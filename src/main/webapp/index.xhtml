<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
  xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui">
<ui:composition template="/template/template.xhtml">
  <ui:define name="body">
    <h2>#{msg['lista-de-produtos']}</h2>    
    <h:form id="formProdutos">
      <p:growl autoUpdate="true" />
      <p:dataGrid id="listaProdutos" value="#{produtoMB.produtos}" var="produto" styleClass="lista-conteudo" columns="1">
        
        <table style="width: 100%; margin-top: 10px;">
          <tr>
            <td class="coluna" style="width:20%">
                <p:graphicImage value="#{ imagemMB.image}">
                <f:param name="name" value="#{produto.nomeImagem}" />
              </p:graphicImage>
            </td>
            <td class="coluna" style="width:55%;text-align: left;">
              <h:outputText value="#{produto.titulo}" styleClass="titulo-produto" />
              <span class="resumo-produto">
                <h:outputText value="#{produto.descricao}" escape="false"/>
              </span>
            </td>
            <td class="coluna" style="width:25%;text-align:center;">
              <h:outputText value="#{produto.preco}">
                <f:convertNumber currencyCode="BRL" type="currency" /> 
              </h:outputText>
              <br />
              <p:commandButton icon="ui-icon-cart" value="#{msg['adicionar-produto']}"
                action="#{carrinhoDeComprasMB.adicionarItem(produto)}" process="listaProdutos"
                style="margin-top: 15px;"/>
            </td>
          </tr>
        </table>        
      </p:dataGrid>
    </h:form>
  </ui:define>
</ui:composition>
</html>